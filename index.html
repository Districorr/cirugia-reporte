<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Generador de Reportes de Cirug√≠a Districorr</title>
  <link rel="icon" href="https://i.imgur.com/aA7RzTN.png" />
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins&family=Lato&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyCFtuuSPCcQIkgDN_F1WRS4U-71pRNCf_E",
      authDomain: "cirugia-reporte.firebaseapp.com",
      projectId: "cirugia-reporte",
      storageBucket: "cirugia-reporte.firebasestorage.app",
      messagingSenderId: "698831567840",
      appId: "1:698831567840:web:fc6d6197f22beba4d88985",
      measurementId: "G-HD7ZLL1GLZ"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
  </script>
</head>
<body>
  <div class="container">
    <header>
      <img src="https://i.imgur.com/aA7RzTN.png" class="logo-header" alt="Logo Districorr" />
      <h4 class="text-primary font-weight-bold">Generador de Reportes de Cirug√≠a Districorr</h4>
    </header>

    <div class="form-group">
      <label>Formato de Texto</label>
      <select id="formato" class="form-control">
        <option value="formal">Formal</option>
        <option value="moderno">Moderno</option>
        <option value="casual">Detallado</option>
      </select>
    </div>

    <div class="form-group">
      <label>Mensaje de Inicio</label>
      <select id="mensajeInicio" class="form-control">
        <option>Estimados, Adjunto detalles de la cirugia programada</option>
        <option>Estimados, Informo las novedades de la cirugia ya programada</option>
        <option>Estimados, se adjunta informaci√≥n de cirug√≠a para gesti√≥n de materiales y log√≠stica.</option>
        <option>Equipo, adjunto detalles de la cirug√≠a (informaci√≥n general y log√≠stica) Verifiquen stock.</option>
        <option>Estimados,Por favor, ver detalle del procedimiento quir√∫rgico para coordinaci√≥n interna.</option>
         
      </select>
    </div>

    <div class="form-group"><label>Paciente</label><input id="paciente" class="form-control" /></div>
<div class="form-group">
  <label>M√©dico</label>
  <input id="medico" class="form-control" list="medicosList" placeholder="Escriba o seleccione..." />
  <datalist id="medicosList"></datalist>
</div>
<div class="form-group">
  <label>Instrumentador</label>
  <input id="instrumentador" class="form-control" list="instrumentadoresList" placeholder="Escriba o seleccione..." />
  <datalist id="instrumentadoresList"></datalist>
</div>
<div class="form-group">
  <label>Lugar de Cirug√≠a</label>
  <input id="lugarCirugia" class="form-control" list="lugaresList" placeholder="Escriba o seleccione..." />
  <datalist id="lugaresList"></datalist>
</div>
    <div class="form-group"><label>Fecha de Cirug√≠a</label><input type="date" id="fechaCirugia" class="form-control" /></div>

    <!-- CAMPO MEJORADO -->
    <div class="form-group">
      <label>Tipo de Cirug√≠a</label>
      <input id="tipoCirugia" class="form-control" list="tiposCirugia" placeholder="Escriba o seleccione..." />
      <datalist id="tiposCirugia">
        <!-- Opciones generadas desde el archivo de clasificaci√≥n -->
        <option>ARTROSCOPIA DE CADERA</option>
        <option>SISTEMA ALL INSIDE</option>
        <option>ARTROPLASTIA ANATOMICA DE HUMERO</option>
        <option>ARTROPLASTIA CUPULA RADIAL</option>
        <option>ARTROPLASTIA REVERSA</option>
        <option>ARTRODESIS CERVICAL/ DORSAL/ LUMBAR HASTA 3 NIVELES</option>
        <option>ARTROSCOPIA DE HOMBRO ACROMIOCLAVICULAR</option>
        <option>ARTROSCOPIA DE HOMBRO - COMPLEJA - PEEK</option>
        <option>ARTROSCOPIA DE MANO - CODO - TOBILLO</option>
        <option>ARTROSCOPIA RODILLA COMPLEJA</option>
        <option>ARTRO RODILLA SIMPLE</option>
        <option>ARTROPLASTIA HUMERO PARCIAL</option>
        <option>ASISTENCIA POR DRILL CON FRESAS,BURS O SHAVER, CRANEO</option>
        <option>CAGE PEEK</option>
        <option>CLAVO DHS</option>
        <option>CLAVO EXPERT F-T</option>
        <option>CLAVO GAMMA</option>
        <option>CLAVO NANCY</option>
        <option>CLAVO CON ATB</option>
        <option>CLAVIJA</option>
        <option>CLAVO F/T/H EN ACERO</option>
        <option>CLAVO F/T/H TITANIO</option>
        <option>CLAVO FEMUR/TIBIA CON ATB</option>
        <option>COLOCACION MECHES</option>
        <option>COLUMNA POR NIVELES</option>
        <option>CRANEOPLASTIA MAS DE 4 HORAS</option>
        <option>CRANEOPLASTIA POR HORA UNA VEZ SUSPERADAS 8 HORAS DE CX</option>
        <option>CRANEOPLASTIA HASTA 4 HORAS</option>
        <option>CRANEOPLATIA</option>
        <option>CUPULA RADIAL</option>
        <option>DESCARTABLE</option>
        <option>ENDOPROTESIS</option>
        <option>EQUIPO</option>
        <option>ESCOLIOSIS POR NIVEL</option>
        <option>EXTRACION CLAVOS</option>
        <option>EXTRACION PLACAS</option>
        <option>EXTRACCION MATERIAL</option>
        <option>HOMBRO - ACROMICLAVICULAR</option>
        <option>HOMBRO PEEK</option>
        <option>INTERESPINOSO O CAGE POR IMPLANTE</option>
        <option>JPX</option>
        <option>LESI√ìN DE LIGAMENTO CRUZADO ANTERIOR</option>
        <option>LIGAMENTO CRUZADO COMPLEJO</option>
        <option>LOGISTICA</option>
        <option>MANO ARPON</option>
        <option>MAXILOFACIAL COMPLEJA</option>
        <option>MAXILOFACIAL POR HORA UNA VEZ SUPERADA 8 HORAS DE CX</option>
        <option>MAXILOFACIAL SIMPLE</option>
        <option>MICROFRAGMENTO</option>
        <option>ORTOPEDIA</option>
        <option>OSTESINSTESIS 3,5 TITANIO</option>
        <option>OSTEOSINTESIS 4,5 ACERO</option>
        <option>OSTEOSINTESIS 4,5 EN TITANIO</option>
        <option>OSTESINSTESIS 3,5 ACERO</option>
        <option>PLACA CERVICAL</option>
        <option>PUNTA SHAVER</option>
        <option>RODILLA</option>
        <option>REV RTC REVISION</option>
        <option>RTC NO CEMENTADA</option>
        <option>REEMPAZO TOTAL DE CADERA BIPOLAR</option>
        <option>RTC CEMENTADA - ESPACIADOR</option>
        <option>RTC HIBRIDA - REVISION</option>
        <option>REEMPLAZO TOTAL RODILLA ANATOMICA</option>
        <option>RTR REVISION</option>
        <option>RTR PRIMARIA C/ VASTAGO TIBIAL</option>
        <option>SIN CONSUMO O SUSPENDIDA SE COBRARA EL 50% SEGUN COMPL</option>
        <option>SUTURA</option>
        <option>SUTURA COMPLEJA</option>
        <option>THOMPSON</option>
        <option>TORNILLOS CANULADOS/HERBERT</option>
        <option>TUTOR</option>
        <option>XLIF, ALIF, OLIF SISTEMAS MINIVASICO/LAMPAROSCOPIA DE COLMN</option>
      </datalist>
    </div>

    <div class="form-group"><label>Material Requerido</label><textarea id="material" class="form-control"></textarea></div>
    <div class="form-group"><label>Observaciones</label><textarea id="observaciones" class="form-control"></textarea></div>
    <div class="form-group"><label>Informaci√≥n Adicional</label><textarea id="infoAdicional" class="form-control"></textarea></div>

   <div class="text-center">
  <button onclick="generarTexto()">üìù Generar Texto</button>
  <button onclick="copiarTexto()">üìã Copiar y Guardar</button>
  <button onclick="compartirWhatsApp()">üì≤ Enviar WhatsApp</button>
  <button onclick="generarImagen()">üñºÔ∏è Guardar como Imagen</button>
  <button onclick="enviarPorEmail()">‚úâÔ∏è Enviar Email</button>
  <br />
  <button onclick="descargarPDF()">üñ®Ô∏è Imprimir / PDF</button>
  <a href="admin.html" class="btn-link">üìÅ Ver Reportes</a>
  <button onclick="verEstadisticas()">üìä Ver Estad√≠sticas</button>
</div>

  <div id="resultado-container" style="display: none;"></div>

  <div style="
    background-color: #f9f9f9;
    border-left: 5px solid #007bff;
    padding: 20px;
    margin-top: 20px;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
  ">
    <h4 style="margin-top: 0; color: #003f63;">üìù Resultado del Reporte</h4>
    <pre id="texto-plano-output" style="white-space: pre-wrap; font-family: 'Courier New', monospace;"></pre>
  </div>
</div>


    <small class="credit">By Responsable de Sistemas Franco Pared ‚Äì Districorr ¬Æ</small>
  </div>
  <script src="script.js"></script>
</body>
</html>
